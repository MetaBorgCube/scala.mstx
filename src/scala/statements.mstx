import scala.def
import scala.iimport

stmts-ok(s_mod, s, stmts) :- stmts match
  { [] -> true
  | stmt:stmts -> stmt match
      { DF2TM(annot, modif, def) ->
          def-ok(s_mod, s, def)
        , stmts-ok(s_mod, s, stmts)
      | IM2TM(imp) -> {s'}
          new s'
        , s' -[ `B ]-> s
        , iimport-ok(s', imp)
        , stmts-ok(s_mod, s', stmts)
      }
  }.
